<!doctype html>
<html>
<head>
    <base href="http://e-maxx-eng.github.io/"/>
    <title>Balanced Ternary - E-Maxx Algorithms</title>
    <script src="./js/jq.js"></script>
    <script src="./js/common.js"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
    </script>
    <script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    <link rel="stylesheet" href="./css/common.css"/>

    <!-- highlightjs for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/styles/xcode.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <!-- end highlightjs -->
</head>
<body>
<div id="container">
    <div id="navbar">
        <span id="title">
            MAXimal
        </span>
        <span id="menu">
            <a href="./index.html">Home</a>
        </span>
    </div>
<h1>Balanced Ternary</h1>

<p><img src="./img/balanced-ternary.jpg" alt="Setun computer using Balanced Ternary system" align="right" width="200"/></p>

<p>This is a non-standard but still positional <strong>numeral system</strong>. It's feature is that digits can have one of values <code>-1</code>, <code>0</code> and <code>1</code>.
Nevertheless its base is still <code>3</code> (because there are three possible values). Since it is not convenient to write <code>-1</code> as a digit
we'll use letter <code>Z</code> further for this purpose. If you think it is quite strange system - look at the picture - here is one of the
computers utilizing it.</p>

<p>So here are few first numbers written in balanced ternary:</p>

<pre><code>0    0
1    1
2    1Z
3    10
4    11
5    1ZZ
6    1Z0
7    1Z1
8    10Z
9    100
</code></pre>

<p>This system allows to write negative values without leading minus sign: you can simply invert digits in any positive number</p>

<pre><code>-1   Z
-2   Z1
-3   Z0
-4   ZZ
-5   Z11
</code></pre>

<p>Note that negative number starts with <code>Z</code> and positive with <code>1</code>.</p>

<h3>Conversion algorithm</h3>

<p>It is easy to convert represent number in <strong>balanced ternary</strong> via temporary representing it as normal ternary. When value is
in standard ternary, its digits are either <code>0</code> or <code>1</code> or <code>2</code>. Iterating from the lowest digit we can safely skip any <code>0</code>s and <code>1</code>s,
however <code>2</code> should be turned into <code>Z</code> with adding <code>1</code> to the next digit. Digits <code>3</code> should be turned into <code>0</code> on the same terms -
such digits are not present in the number initially but they can be encountered after increasing some <code>2</code>s.</p>

<p><strong>Example:</strong> let us convert <code>64</code> to balanced ternary. At first we use normal ternary to rewrite the number:</p>

<p>$$ 64 = 02201_{3} $$</p>

<p>Let us process it from the least significant (rightmost) digit:</p>

<ul>
<li><code>1</code> is skipped as is, <code>0</code> at the next position too;</li>
<li><code>2</code> is turned into <code>Z</code> increasing the following digit, so we get <code>03Z01</code> (temporarily);</li>
<li><code>3</code> is turned into <code>0</code> increasing the following digit (which, luckily, was <code>0</code>).</li>
</ul>

<p>So the result is <code>10Z01</code>.</p>

<h3>Relevant problems</h3>

<p><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=12917&amp;rd=15837">Topcoder SRM 604, Div1-250</a></p>

    <div id="footer">
    (c) 2014 translation by <a href="http://github.com/e-maxx-eng">http://github.com/e-maxx-eng</a>
    </div>
</div>
</body>
</html>
